{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="container-fluid detail">
        <div class="row content-detail">
            <div class="col-12 col-md-6 col-lg-4 offset-lg-2">
                <div class="image-container my-5">
                    {% if product.image %}
                        <a href="{{ product.image.url }}" target="_blank">
                            <img class="card-img-top img-fluid" src="{{ product.image.url }}" alt="{{ product.name }}">
                        </a>
                        {% else %}
                        <a href="">
                            <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.jpg" alt="{{ product.name }}">
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-4">
                <div class="product-details-container mb-5 mt-md-5">
                    <p class="mb-0">{{ product.name }}</p>
                    <p class="lead mb-0 text-left font-weight-bold">â‚¬{{ product.price }}</p>
                    {% if product.category %}
                    <p class="small mt-1 mb-0">
                        <a class="text-muted" href="{% url 'products' %}?category={{ product.category.name }}">
                            <i class="fas fa-tag mr-1"></i>{{ product.category.display_name }}
                        </a>
                    </p>
                    {% endif %}
                    {% if product.rating %}
                        <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ product.rating }} / 5</small>
                    {% else %}
                        <small class="text-muted">No Rating</small>
                    {% endif %}
                    {% if request.user.is_superuser %}
                        <small class="ml-3">
                            <a href="{% url 'edit_product' product.id %}">Edit</a> | 
                            <a class="text-danger" href="{% url 'delete_product' product.id %}">Delete</a>
                        </small>
                    {% endif %}
                    
                    <form class="form" action="{% url 'add_to_bag' product.id %}" method="POST">
                        {% csrf_token %}
                        <div class="form-row">
                            <!--<div class="col-12">
                                <p class="mt-3"><strong>Quantity:</strong></p>
                                <div class="form-group w-50">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <button class="decrement-qty btn btn-black rounded-0" 
                                                data-item_id="{{ product.id }}" id="decrement-qty_{{ product.id }}">
                                                <span class="icon">
                                                    <i class="fas fa-minus"></i>
                                                </span>
                                            </button>
                                        </div>
                                        <input class="form-control qty_input" type="number"
                                            name="quantity" value="1" min="1" max="99"
                                            data-item_id="{{ product.id }}"
                                            id="id_qty_{{ product.id }}">
                                        <div class="input-group-append">
                                            <button class="increment-qty btn btn-black rounded-0"
                                                data-item_id="{{ product.id }}" id="increment-qty_{{ product.id }}">
                                                <span class="icon">
                                                    <i class="fas fa-plus"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>-->

                            <div class="col{% if s %}-12 mt-2{% endif %}">
                                <a href="{% url 'products' %}" class="btn btn-outline-black rounded-0 mt-5">
                                    <span class="icon">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="text-uppercase">Keep Shopping</span>
                                </a>
                                <input type="submit" class="btn btn-black rounded-0 text-uppercase mt-5" value="Add to Bag">
                            </div>
                            <input type="hidden" name="redirect_url" value="{{ request.path }}">
                        </div>
                    </form>
                </div>
            </div>
            <div class="description">                
                <section id="product-tabs">
                    <div class="container my-5">
                        <div class="row d-flex justify-content-center">
                            <div class="col-12 col-md-10 nav-border">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item custom-tab">
                                    <a class="nav-link text-black active" data-bs-toggle="tab" data-bs-target="#description">Description</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div id="description" class="tab-pane fade show active">
                                        <h5 class="my-2">Description:</h5>
                                        <div class="container"></div>
                                        <p class="mt-3" >{{ product.description }}</p>
                                    </div>                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="product-tabs">
                    <div class="container my-5">
                        <div class="row d-flex justify-content-center">
                            <div class="col-12 col-md-10 nav-border">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item custom-tab">
                                     <a class="nav-link text-black active" data-bs-toggle="tab" data-bs-target="#questions"><strong>IMPORTANT</strong> information:</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div id="questions" class="tab-pane fade show active">
                                    <div class="container">
                                        <p class="value-detail-description">
                                            <strong>Once payment is completed, </strong>one of our writers will contact you through the phone or email 
                                            provided at checkout to gather key information and tailor your speech specifically to your occasion.
                                            <br>
                                            <strong>Delivery time:</strong> For eulogies, delivery is within 24 hours. Any other service might take up to 5 working days.
                                            <br>
                                            <strong>Reviews:</strong> For eulogies, you will have the chance for 1 review. For any other service, you can have up to 2 reviews if necessary.
                                            <br>
                                            <strong>Length of speech:</strong> For wedding vows, up to 3 minutes. For all other services, between 8 and 12 minutes. 
                                            The more information and details you provide, the more unique and intimate your speech will be.
                                            <br>
                                        </p>
                                    </div>
                                    <p class="mt-3">Send us your question:<a href="{% url 'contact general' %}">here</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
               <!-- <section>
                    <div class="form-description col-12 col-md-10 mb-5">
                        <form  method="post" class="container col-6 border">
                            {% csrf_token %}
                            <input type="hidden" name="page" value="eulogy">
                            <div class="d-flex">
                                <div class="ln-form-description col-6">
                                    <div class="field-description-form-buy col-12">
                                        <label for="event-date" class="lb-form-buy form-label">Event Date:</label>
                                    </div>
                                    <div class="field-input-form-buy col-6">
                                        <input type="date" name="event_date" id="event-date" class="form-control" required>
                                    </div>
                                </div>
                                <div class="ln-form-description col-6">
                                    <div class="field-description-form-buy  col-12">
                                        <label for="text-name" class="lb-form-buy form-label">Name:</label>
                                    </div>
                                    <div class="field-input-form-buy col-6">
                                        <input type="text" name="name" id="text-name" class="form-control" required>
                                    </div>
                                </div>                                
                            </div>
                            <div class="d-flex">
                                <div class="ln-form-description col-12">
                                    <div class="field-description-form-buy col-12">
                                        <label for="text-email" class="lb-form-buy form-label ">Email Address:</label>
                                    </div>
                                    <div class="field-input-form-buy col-12">
                                        <input type="email" name="email" id="text-email" class="form-control" required>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex">
                                <div class="ln-form-description col-12">
                                    <div class="field-description-form-buy col-12">
                                        <label for="mentions" class="lb-form-buy form-label">What would you like to say on your speech:</label>
                                    </div>
                                    <div class="field-input-form-buy col-12">
                                         <textarea name="mentions" id="mentions" class="form-control text-area"
                                         placeholder=
                                        "The more detail the more uniquei your speeche will be.
                                        Tell us: your relationship, special thanks, any preferences and so on. Main points you want to cover
                                        Specific anecdotes or stories to include 
                                        Quoter and references to include 
                                        Any particular message or takeaway you want the audience to remember" 
                                         cols="50" rows="8"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex">
                                <div class="ln-form-description col-12">
                                    <div class="field-description-form-buy col-12">
                                        <label for="dos_donts" class="lb-form-buy form-label">Do's and Don'ts</label>
                                    </div>
                                    <div class="field-input-form-buy col-12">
                                        <textarea name="dos_donts" id="" class="form-control text-area" cols="50" rows="7"
                                        placeholder=""></textarea>                                        
                                    </div>
                                </div>                                
                            </div>
                            <div class="d-flex col-12 ">
                                <div class="ln-form-description col-12">
                                    <div class="field-description-form-buy col-12">
                                        <label class="lb-form-buy">Tone of the speech:</label>
                                    </div>
                                    <div class="col-12 border d-flex mb-5">
                                        <div class="d-flex col-10">
                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_emotional" id="tone_emotional" class="checkbox-control">
                                                        <label for="tone_emotional" class="label-control">Emotional</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_heartfelt" value="heartfelt" id="tone_heartfelt" class="checkbox-control">
                                                        <label for="tone_heartfelt" class="label-control">Heartfelt</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_inspirational" value="inspirational" id="tone_inspirational" class="checkbox-control">
                                                        <label for="tone_inspirational" class="label-control">Inspirational</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_sad" value="sad" id="tone_sad" class="checkbox-control">
                                                        <label for="tone_sad" class="label-control">Sad</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_happy" value="happy" id="tone_happy" class="checkbox-control">
                                                        <label for="tone_happy" class="label-control">Happy</label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_funny" value="funny" id="tone_funny" class="checkbox-control">
                                                        <label for="tone_funny" class="label-control">Funny</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_formal" value="formal" id="tone_formal" class="checkbox-control">
                                                        <label for="tone_formal" class="label-control">Formal</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_casual" value="casual" id="tone_casual" class="checkbox-control">
                                                        <label for="tone_casual" class="label-control">Casual</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_motivational" value="motivational" id="tone_motivational" class="checkbox-control">
                                                        <label for="tone_motivational" class="label-control">Motivational</label>
                                                    </div>
                                                    <div class="col-2">
                                                        <input type="checkbox" name="tone_reflective" value="reflective" id="tone_reflective" class="checkbox-control">
                                                        <label for="tone_reflective" class="label-control">Reflective</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    
                                </div>
                            </div>
                        </form>
                    </div>
                </section> -->
            </div>
        </div>
    </div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
{% include 'products/includes/quantity_input_script.html' %}
{% endblock %}